<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>100 Dias Survival - ByteQuest</title>
<style>
/* Base */
body { font-family: Arial, sans-serif; background:#1b1b1b; color:#f1f2f6; margin:0; padding:0; overflow-x:hidden;}
button { cursor:pointer; font-weight:bold; }
#game-container { max-width:800px; margin:0 auto; padding:20px; }
.dialog-box { background:#2f2f2f; padding:15px; border-radius:10px; margin-bottom:15px; min-height:100px; overflow-y:auto; }
#status-bar { display:flex; justify-content:space-between; margin-bottom:10px; }
.status { background:#3742fa; padding:5px 10px; border-radius:5px; margin-right:5px; }
.inventory, .cards-inv { position:fixed; top:50px; right:20px; width:250px; max-height:400px; background:#2f2f2f; padding:15px; border-radius:10px; overflow-y:auto; display:none; z-index:1000;}
.inventory h3, .cards-inv h3 { margin-top:0; text-align:center; color:#ff4757; }
#card-view { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); width:300px; background:#2f2f2f; padding:20px; border-radius:10px; display:none; z-index:2000; }
#card-view h4 { color:#3742fa; margin-bottom:10px; }
button.close-btn { background:#ff4757; border:none; color:#fff; padding:5px 10px; border-radius:5px; margin-top:10px; }
button.action-btn { background:#3742fa; border:none; color:#fff; padding:10px; border-radius:5px; margin:5px 0; display:block; width:100%; }
#footer { text-align:center; padding:10px; background:#111; color:#777; position:fixed; bottom:0; width:100%; }
#menu, #difficulty-screen, #game-screen { display:none; }
#menu h1 { text-align:center; color:#ff4757; font-family: 'Courier New', monospace; font-size:3em; margin-top:50px; }
#menu button { display:block; margin:20px auto; padding:15px 30px; font-size:1.2em; border:none; border-radius:10px; background:#3742fa; color:#fff; }
#difficulty-screen { text-align:center; padding:50px; }
#difficulty-screen button { display:inline-block; margin:10px; padding:15px 25px; border-radius:10px; background:#ff4757; color:#fff; border:none; font-weight:bold; }
</style>
</head>
<body>

<!-- MENU -->
<div id="menu">
  <h1>100 Dias Survival</h1>
  <button id="play-btn">Jogar</button>
</div>

<!-- SELEÇÃO DE DIFICULDADE -->
<div id="difficulty-screen">
  <h2>Escolha a dificuldade</h2>
  <button onclick="startGame('facil')">Fácil</button>
  <button onclick="startGame('medio')">Médio</button>
  <button onclick="startGame('dificil')">Difícil</button>
</div>

<!-- TELA DE JOGO -->
<div id="game-screen">
  <div id="status-bar">
    <div class="status" id="energia">Energia: 100</div>
    <div class="status" id="fome">Fome: 100</div>
    <div class="status" id="sede">Sede: 100</div>
    <div class="status" id="sanidade">Sanidade: 100</div>
  </div>

  <div class="dialog-box" id="dialog-box"></div>

  <button onclick="toggleInventory()">Inventário</button>
  <button onclick="toggleCards()">Cartas</button>
</div>

<!-- INVENTÁRIO DE ITENS -->
<div class="inventory" id="inventory">
  <h3>Inventário</h3>
  <div id="inventory-items"></div>
  <button class="close-btn" onclick="toggleInventory()">Fechar</button>
</div>

<!-- INVENTÁRIO DE CARTAS -->
<div class="cards-inv" id="cards-inv">
  <h3>Cartas</h3>
  <div id="cards-items"></div>
  <button class="close-btn" onclick="toggleCards()">Fechar</button>
</div>

<!-- VISUALIZAÇÃO DE CARTA -->
<div id="card-view">
  <h4 id="card-title"></h4>
  <p id="card-content"></p>
  <button class="close-btn" onclick="closeCardView()">Sair</button>
</div>

<div id="footer">Versão atual: 0.0.2 (Beta)</div>

<script>
// ESTADOS
let energia=100,fome=100,sede=100,sanidade=100,dia=1;
let inventario = [];
let cartas = [];
let cartasLidas = [];
let dialogBox=document.getElementById('dialog-box');
let gameScreen=document.getElementById('game-screen');
let menuScreen=document.getElementById('menu');
let difficultyScreen=document.getElementById('difficulty-screen');
let selectedDifficulty='facil';
let historiaCapitulos=[
  "Você acorda sozinho em uma área desconhecida. É preciso sobreviver por 100 dias para escapar desse lugar.",
  "Dia 10: Você encontra sinais de outros sobreviventes, mas não sabe se são amigáveis.",
  "Dia 20: Tempestades se tornam frequentes. Sobreviver exige cuidado com fome e sede.",
  "Dia 30: Descobre restos de antigas construções e cartas misteriosas espalhadas pelo local.",
  "Dia 40: Animais aparecem à noite; alguns ajudam, outros atacam.",
  "Dia 50: Recebe uma carta com dicas de sobrevivência importantes.",
  "Dia 60: A situação do mundo se revela mais sombria, escolhas começam a ter consequências graves.",
  "Dia 70: Novos personagens aparecem e interações se tornam decisivas.",
  "Dia 80: Você começa a entender a história do mundo e sua própria missão.",
  "Dia 90: Últimos dias críticos; cada ação importa.",
  "Dia 100: A sobrevivência chegou ao limite. O desfecho final se aproxima."
];

// CARTAS EXEMPLO
let todasCartas=[
  {id:1,nome:"Carta 1",info:"Diário antigo: dicas sobre encontrar água e comida."},
  {id:2,nome:"Carta 2",info:"Nota sobre um sobrevivente que passou por aqui."},
  {id:3,nome:"Carta 3",info:"Mapa rudimentar de rotas seguras."},
  {id:4,nome:"Carta 4",info:"História de animais que rondam a área."},
  {id:5,nome:"Carta 5",info:"Relato de eventos meteorológicos perigosos."},
  {id:6,nome:"Carta 6",info:"Carta com truque de manter a sanidade."},
  {id:7,nome:"Carta 7",info:"História de um grupo de sobreviventes desaparecido."},
  {id:8,nome:"Carta 8",info:"Mensagem de esperança deixada em um abrigo."},
  {id:9,nome:"Carta 9",info:"Diário com detalhes da construção de ferramentas."},
  {id:10,nome:"Carta 10",info:"Carta com dicas de interações com animais."},
  {id:11,nome:"Carta 11",info:"Registro de doenças e remédios encontrados."},
  {id:12,nome:"Carta 12",info:"Carta descrevendo eventos passados na região."},
  {id:13,nome:"Carta 13",info:"Mensagem sobre áreas perigosas a evitar."},
  {id:14,nome:"Carta 14",info:"Carta com dicas de exploração noturna."},
  {id:15,nome:"Carta 15",info:"Segredo final sobre a sobrevivência total."}
];

// INICIALIZAÇÃO
document.getElementById('play-btn').onclick=()=>{menuScreen.style.display='none';difficultyScreen.style.display='block';}

// START GAME
function startGame(difficulty){
  selectedDifficulty=difficulty;
  difficultyScreen.style.display='none';
  gameScreen.style.display='block';
  mostrarDialogo(historiaCapitulos[0]);
}

// DIALOGO
function mostrarDialogo(texto){
  dialogBox.innerHTML+=`<p>${texto}</p>`;
  dialogBox.scrollTop = dialogBox.scrollHeight;
}

// INVENTÁRIO
function toggleInventory(){
  let inv=document.getElementById('inventory');
  inv.style.display=(inv.style.display==='block')?'none':'block';
  atualizarInventario();
}
function atualizarInventario(){
  let container=document.getElementById('inventory-items');
  container.innerHTML='';
  inventario.forEach((item,i)=>{
    let btn=document.createElement('button');
    btn.innerText=item.nome;
    btn.className='action-btn';
    btn.title=item.descricao;
    btn.onclick=()=>usarItem(i);
    container.appendChild(btn);
  });
}
function usarItem(idx){
  let item=inventario[idx];
  mostrarDialogo(`Você usou ${item.nome}. ${item.efeito}`);
  if(item.tipo!=='permanente'){ inventario.splice(idx,1); atualizarInventario();}
}

// CARTAS
function toggleCards(){
  let inv=document.getElementById('cards-inv');
  inv.style.display=(inv.style.display==='block')?'none':'block';
  atualizarCartas();
}
function atualizarCartas(){
  let container=document.getElementById('cards-items');
  container.innerHTML='';
  cartas.forEach(c=>{
    let btn=document.createElement('button');
    btn.innerText=c.nome;
    btn.className='action-btn';
    btn.style.backgroundColor=cartasLidas.includes(c.id)?'#6c5ce7':'#555';
    btn.onclick=()=>abrirCarta(c.id);
    container.appendChild(btn);
  });
}
function abrirCarta(id){
  let c=cartas.find(x=>x.id===id);
  if(!c) return;
  document.getElementById('card-title').innerText=c.nome;
  document.getElementById('card-content').innerText=c.info;
  document.getElementById('card-view').style.display='block';
  if(!cartasLidas.includes(c.id)) cartasLidas.push(c.id);
  checarConquistaCartas();
}
function closeCardView(){ document.getElementById('card-view').style.display='none'; }
function checarConquistaCartas(){ if(cartasLidas.length>=15) mostrarDialogo("Conquista desbloqueada: Leu todas as cartas!"); }

// EXEMPLO DE EVENTO ALEATORIO (explorar)
function explorar(){
  // chance de achar carta
  if(Math.random()<0.1){
    let disponiveis=todasCartas.filter(c=>!cartas.includes(c));
    if(disponiveis.length>0){
      let carta=disponiveis[Math.floor(Math.random()*disponiveis.length)];
      cartas.push(carta);
      mostrarDialogo(`Você encontrou uma carta: ${carta.nome}`);
    }
  }
  // chance de achar item
  if(Math.random()<0.3){
    let item={nome:"Comida",efeito:"Aumenta fome em 20",tipo:"temporario",descricao:"Restaurar 20 de fome"};
    inventario.push(item);
    mostrarDialogo(`Você encontrou um item: ${item.nome}`);
  }
}

// SOM ARTIFICIAL (Exemplo de efeito)
function playBeep(){
  let ctx=new (window.AudioContext||window.webkitAudioContext)();
  let osc=ctx.createOscillator();
  osc.type='square'; osc.frequency.value=440;
  osc.connect(ctx.destination); osc.start();
  osc.stop(ctx.currentTime+0.2);
}

// TRILHA DE FUNDO SIMPLES
function playBackgroundLoop(){
  let ctx=new (window.AudioContext||window.webkitAudioContext)();
  let osc=ctx.createOscillator();
  let gain=ctx.createGain();
  osc.type='sine'; osc.frequency.value=60;
  gain.gain.value=0.02;
  osc.connect(gain); gain.connect(ctx.destination);
  osc.start();
  osc.loop=true;
}
playBackgroundLoop();
</script>

</body>
</html>
